<div class="container">
<div class="card m-3">
  <h5 class="card-header">Inscription</h5>
  <div class="card-body">
    <form [formGroup]="regForm" (ngSubmit)="handleRegistration()">
      <div class="form-group w-50">
        <div class="alert alert-warning" *ngIf="registrationFail">{{errorMessage}}</div>
        <label for="userName"></label>
        Pseudo: <input type="text" formControlName="userName" class="form-control" name="userName" id="userName" required autocomplete="true"  [ngClass]="{ 'is-invalid': submitted && f.userName.errors }">
        <div *ngIf="submitted && f.userName.errors" class="invalid-feedback">
          <div *ngIf="f.userName.errors.required">Pseudo obligatoire</div>
          <div *ngIf="f.userName.errors.pattern">Seules les lettres (a-z), les chiffres (0-9) et les points (.) sont autorisés.</div>
        </div>
      </div>
      <div class="form-group w-50">
        <label for="email"></label>
        Email: <input type="text" formControlName="email" class="form-control" name="email"  id="email" required autocomplete="true" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" >

        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors.required">Entrez une adresse email</div>
          <div *ngIf="f.email.errors.email">L'adresse email n'est pas valid</div>
        </div>
      </div>
      <div class="form-group w-50">
        <label for="password"></label>
        Password: <input type="password" formControlName="password" class="form-control" name="password" id="password" required autocomplete="true"  [ngClass]="{ 'is-invalid': submitted && f.password.errors }">
        <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
          <div *ngIf="f.password.errors.required">Entrez un mot de passe</div>
          <div *ngIf="f.password.errors.minlength">Utilisez 6 caractères ou plus pour votre mot de passe.</div>
        </div>
      </div>
      <div class="form-group w-50">
        <label for="passwordConfirm"></label>
        Re-Password: <input type="password" formControlName="passwordConfirm" class="form-control" name="passwordConfirm" id="passwordConfirm" required autocomplete="true" [ngClass]="{ 'is-invalid': submitted && f.passwordConfirm.errors }">
        <div *ngIf="submitted && f.passwordConfirm.errors" class="invalid-feedback">
          <div *ngIf="f.passwordConfirm.errors.required">Confirmez votre mot de pass</div>
          <div *ngIf="f.passwordConfirm.errors.mustMatch">Les mots de passe ne correspondent pas. Veuillez réessayer.</div>
        </div>
      </div>
      <div class="form-group form-check">
        <input type="checkbox" formControlName="acceptTerms" id="acceptTerms" class="form-check-input" [ngClass]="{ 'is-invalid': submitted && f.acceptTerms.errors }" />
        <label for="acceptTerms" class="form-check-label">J'ai lu et j'accepte les Conditions Générales d'Utilisation et <br/>la Politique de Protection des Données Personnelles.</label>
        <div *ngIf="submitted && f.acceptTerms.errors" class="invalid-feedback">Accept Ts & Cs is required</div>
      </div>
      <button type="submit" class="btn btn-success" (click)="register()">Inscrire</button>
      <div class="card-footer">
        <div class="d-flex justify-content-left links">
          Vous avez déjà un compte ?&nbsp;<a href="#" routerLink="/auth"> Connectez-vous </a>
        </div>
      </div>
    </form>
  </div>
</div>
</div>
